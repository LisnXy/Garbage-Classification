{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/win/Desktop/repository/Garbage-Classification/garbage-sort-web/pages/sortInfo_home/sortInfo_home.vue?75f2","webpack:///C:/Users/win/Desktop/repository/Garbage-Classification/garbage-sort-web/pages/sortInfo_home/sortInfo_home.vue?1431","webpack:///C:/Users/win/Desktop/repository/Garbage-Classification/garbage-sort-web/pages/sortInfo_home/sortInfo_home.vue?480e","webpack:///C:/Users/win/Desktop/repository/Garbage-Classification/garbage-sort-web/pages/sortInfo_home/sortInfo_home.vue?5a42","uni-app:///pages/sortInfo_home/sortInfo_home.vue","webpack:///C:/Users/win/Desktop/repository/Garbage-Classification/garbage-sort-web/pages/sortInfo_home/sortInfo_home.vue?2687","webpack:///C:/Users/win/Desktop/repository/Garbage-Classification/garbage-sort-web/pages/sortInfo_home/sortInfo_home.vue?3ef8"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":"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","file":"pages/sortInfo_home/sortInfo_home.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/sortInfo_home/sortInfo_home.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./sortInfo_home.vue?vue&type=template&id=684d9fec&\"\nvar renderjs\nimport script from \"./sortInfo_home.vue?vue&type=script&lang=js&\"\nexport * from \"./sortInfo_home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./sortInfo_home.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/sortInfo_home/sortInfo_home.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./sortInfo_home.vue?vue&type=template&id=684d9fec&\"","var components\ntry {\n  components = {\n    uniIcons: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-icons/components/uni-icons/uni-icons\" */ \"@/uni_modules/uni-icons/components/uni-icons/uni-icons.vue\"\n      )\n    },\n    uniList: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-list/components/uni-list/uni-list\" */ \"@/uni_modules/uni-list/components/uni-list/uni-list.vue\"\n      )\n    },\n    uniListItem: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-list/components/uni-list-item/uni-list-item\" */ \"@/uni_modules/uni-list/components/uni-list-item/uni-list-item.vue\"\n      )\n    },\n    uniPopup: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-popup/components/uni-popup/uni-popup\" */ \"@/uni_modules/uni-popup/components/uni-popup/uni-popup.vue\"\n      )\n    },\n    uniTitle: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-title/components/uni-title/uni-title\" */ \"@/uni_modules/uni-title/components/uni-title/uni-title.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./sortInfo_home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./sortInfo_home.vue?vue&type=script&lang=js&\"","<template>\r\n    <view class=\"root\">\r\n        <view\r\n            class=\"header\"\r\n        >\r\n\t\t<image class=\"header-bg-image\" src=\"https://cdn.jsdelivr.net/gh/LisnXy/WxCDN/garbage-classification/images/background.svg\" mode=\"aspectFit\"></image>\r\n            <view class=\"search\">\r\n                <view class=\"search-header\" @click=\"popSelector\">\r\n                    <text class=\"city-selector\">{{ selectedCity }}</text>\r\n                    <image\r\n                        src=\"../../static/image/下拉.svg\"\r\n                        mode=\"scaleToFill\"\r\n                        style=\"height: 28rpx; width: 28rpx; margin-left: 30rpx\"\r\n                    ></image>\r\n                    <view class=\"border-fill\"></view>\r\n                </view>\r\n                <view class=\"search-body\">\r\n                    <view class=\"search-input\">\r\n                        <input\r\n                            v-model=\"inputValue\"\r\n                            maxlength=\"10\"\r\n                            type=\"text\"\r\n                            placeholder=\"输入要搜索的物品(例电池)\"\r\n                            style=\"width: 100%;font-size:0.9rem;letter-spacing: 1px;\"\r\n                            @focus=\"searchBarFocused\"\r\n                            @blur=\"searchBarBlured($event)\"\r\n                            @input=\"search($event)\"\r\n                        />\r\n                    </view>\r\n                </view>\r\n            </view>\r\n        </view>\r\n        <view\r\n            id=\"body\"\r\n            class=\"body\"\r\n            :style=\"{\r\n                'background-color': bodyColor,\r\n                'background-image': bodyImage\r\n            }\"\r\n        >\r\n            <view class=\"cards-swiper\" v-if=\"!searchMode\">\r\n                <swiper\r\n                    :current=\"currentItem\"\r\n                    :indicator-dots=\"false\"\r\n                    :autoplay=\"false\"\r\n                    next-margin=\"50rpx\"\r\n                    previous-margin=\"50rpx\"\r\n                    @change=\"onSwiperChange($event)\"\r\n                >\r\n                    <swiper-item>\r\n                        <view\r\n                            class=\"swiper-item\"\r\n                            style=\"background-color: #395a98\"\r\n                            @click=\"gotoDetail\"\r\n                        >\r\n                            <view class=\"swiper-icon\">\r\n                                <image\r\n                                    src=\"../../static/icons/可回收垃圾.png\"\r\n                                    mode=\"aspectFit\"\r\n                                    style=\"\r\n                                        width: 100%;\r\n                                        height: 50%;\r\n                                        transform: scale(0.8);\r\n                                    \"\r\n                                ></image>\r\n                            </view>\r\n                            <view class=\"swiper-content\">\r\n                                <text class=\"title\">{{ swiperTitles[0] }}</text>\r\n                                <scroll-view\r\n                                    class=\"swiper-text\"\r\n                                    scroll-y=\"true\"\r\n                                >\r\n                                    <text>\r\n                                        {{ swiperTips[0] }}\r\n                                    </text>\r\n                                </scroll-view>\r\n                            </view>\r\n                        </view>\r\n                    </swiper-item>\r\n                    <swiper-item>\r\n                        <view\r\n                            class=\"swiper-item\"\r\n                            style=\"background-color: #b85555\"\r\n                            @click=\"gotoDetail\"\r\n                        >\r\n                            <view class=\"swiper-icon\">\r\n                                <image\r\n                                    src=\"../../static/icons/有害垃圾.png\"\r\n                                    mode=\"aspectFit\"\r\n                                    style=\"width: 100%; height: 50%\"\r\n                                ></image>\r\n                            </view>\r\n                            <view class=\"swiper-content\">\r\n                                <text class=\"title\">{{ swiperTitles[1] }}</text>\r\n                                <scroll-view\r\n                                    class=\"swiper-text\"\r\n                                    scroll-y=\"true\"\r\n                                >\r\n                                    <text>\r\n                                        {{ swiperTips[1] }}\r\n                                    </text>\r\n                                </scroll-view>\r\n                            </view>\r\n                        </view>\r\n                    </swiper-item>\r\n                    <swiper-item>\r\n                        <view\r\n                            class=\"swiper-item\"\r\n                            style=\"background-color: #65ba8a\"\r\n                            @click=\"gotoDetail\"\r\n                        >\r\n                            <view class=\"swiper-icon\">\r\n                                <image\r\n                                    src=\"../../static/icons/厨余垃圾.png\"\r\n                                    mode=\"aspectFit\"\r\n                                    style=\"width: 100%; height: 50%\"\r\n                                ></image>\r\n                            </view>\r\n                            <view class=\"swiper-content\">\r\n                                <text class=\"title\">{{ swiperTitles[2] }}</text>\r\n                                <scroll-view\r\n                                    class=\"swiper-text\"\r\n                                    scroll-y=\"true\"\r\n                                >\r\n                                    <text>\r\n                                        {{ swiperTips[2] }}\r\n                                    </text>\r\n                                </scroll-view>\r\n                            </view>\r\n                        </view>\r\n                    </swiper-item>\r\n                    <swiper-item>\r\n                        <view\r\n                            class=\"swiper-item\"\r\n                            style=\"background-color: #879696\"\r\n                            @click=\"gotoDetail\"\r\n                        >\r\n                            <view class=\"swiper-icon\">\r\n                                <image\r\n                                    src=\"../../static/icons/其他垃圾.png\"\r\n                                    mode=\"aspectFit\"\r\n                                    style=\"width: 100%; height: 50%\"\r\n                                ></image>\r\n                            </view>\r\n                            <view class=\"swiper-content\">\r\n                                <text class=\"title\">{{ swiperTitles[3] }}</text>\r\n                                <scroll-view\r\n                                    class=\"swiper-text\"\r\n                                    scroll-y=\"true\"\r\n                                >\r\n                                    <text>\r\n                                        {{ swiperTips[3] }}\r\n                                    </text>\r\n                                </scroll-view>\r\n                            </view>\r\n                        </view>\r\n                    </swiper-item>\r\n                    <swiper-item v-if=\"hasBigTrash\">\r\n                        <view\r\n                            class=\"swiper-item\"\r\n                            style=\"background-color: #ebb852\"\r\n                            @click=\"gotoDetail\"\r\n                        >\r\n                            <view class=\"swiper-icon\">\r\n                                <image\r\n                                    src=\"../../static/icons/大件垃圾.png\"\r\n                                    mode=\"aspectFit\"\r\n                                    style=\"\r\n                                        width: 120%;\r\n                                        height: 50%;\r\n                                        position: relative;\r\n                                        right: 8px;\r\n                                    \"\r\n                                ></image>\r\n                            </view>\r\n                            <view class=\"swiper-content\">\r\n                                <text class=\"title\">{{ swiperTitles[4] }}</text>\r\n                                <scroll-view\r\n                                    class=\"swiper-text\"\r\n                                    scroll-y=\"true\"\r\n                                >\r\n                                    <text>\r\n                                        {{ swiperTips[4] }}\r\n                                    </text>\r\n                                </scroll-view>\r\n                            </view>\r\n                        </view>\r\n                    </swiper-item>\r\n                </swiper>\r\n            </view>\r\n            <scroll-view\r\n                class=\"requirements\"\r\n                v-if=\"!searchMode\"\r\n                scroll-y=\"true\"\r\n            >\r\n                <view\r\n                    class=\"requirement\"\r\n                    v-for=\"(requirement, index) in requirements[currentItem]\"\r\n                >\r\n                    <uni-icons type=\"checkmarkempty\" color=\"#FFF\"></uni-icons>\r\n                    <text>{{ requirement }}</text>\r\n                </view>\r\n            </scroll-view>\r\n            <scroll-view\r\n                class=\"search-result\"\r\n                scroll-y=\"true\"\r\n                v-if=\"searchMode\"\r\n            >\r\n                <uni-list v-if=\"showResult\">\r\n                    <uni-list-item\r\n                        :title=\"item.garbageName\"\r\n                        v-for=\"(item, index) in searchResult\"\r\n                    >\r\n                        <view\r\n                            slot=\"footer\"\r\n                            class=\"list-item-icon\"\r\n                            :style=\"{ color: bodyColors[item.type - 1] }\"\r\n                        >\r\n                            {{ swiperTitles[item.type - 1] }}\r\n                        </view>\r\n                    </uni-list-item>\r\n                </uni-list>\r\n            </scroll-view>\r\n        </view>\r\n        <uni-popup ref=\"popup\" type=\"bottom\" background-color=\"#fff\">\r\n            <view class=\"selector-container\">\r\n                <view class=\"selector-header\">\r\n                    <uni-title type=\"h1\" title=\"选择城市\"></uni-title>\r\n                </view>\r\n                <view class=\"divider\" />\r\n                <view class=\"picker-container\">\r\n                    <van-picker\r\n                        ref=\"picker\"\r\n                        :columns=\"citiesList\"\r\n                        style=\"height: 100%; width: 100%\"\r\n                        @confirm=\"onConfirm\"\r\n                        show-toolbar=\"true\"\r\n                        @cancel=\"onCancel\"\r\n                        :default-index=\"defaultIndex\"\r\n                    ></van-picker>\r\n                </view>\r\n            </view>\r\n        </uni-popup>\r\n        <tab-bar :selected-index=\"0\"></tab-bar>\r\n    </view>\r\n</template>\r\n\r\n<script>\r\nimport axios from '../../static/utils/request.js';\r\nexport default {\r\n    data() {\r\n        return {\r\n            bodyImage: null,\r\n            selectedCity: '上海市',\r\n            citiesList: [],\r\n            swiperTitles: [\r\n                '可回收物',\r\n                '厨余垃圾',\r\n                '有害垃圾',\r\n                '其他垃圾',\r\n                '大件垃圾'\r\n            ],\r\n            swiperTips: [\r\n                '可回收物指适宜回收利用和资源化利用的生活废弃物。',\r\n                '厨余垃圾是指居民日常生活及食品加工、饮食服务、单位供餐等活动中产生的垃圾。',\r\n                '有害垃圾指对人体健康或者自然环境造成直接或者潜在危害的生活废弃物。',\r\n                '其他垃圾包括砖瓦陶瓷、渣土、卫生间废纸、瓷器碎片、动物排泄物、一次性用品等难以回收的废弃物。',\r\n                '大件垃圾是指体积较大、整体性强，需要拆分再处理的废弃物品。'\r\n            ],\r\n            requirements: ['', '', '', '', ''],\r\n            currentItem: 0,\r\n            defaultIndex: 1,\r\n            hasBigTrash: false,\r\n            bodyColors: ['#274883', '#9f4342', '#4ba171', '#6f7774', '#e0ab40'],\r\n            bodyColor: '#274883',\r\n            searchMode: false,\r\n            cityId: 0,\r\n            searchResult: [],\r\n            typeNames: [],\r\n            showResult: false,\r\n            inputValue: ''\r\n        };\r\n    },\r\n    methods: {\r\n        // 弹出选择栏\r\n        popSelector() {\r\n            this.$refs.popup.open();\r\n        },\r\n        // 用户点击取消，关闭选择栏\r\n        onCancel() {\r\n            this.$refs.popup.close();\r\n        },\r\n\t\t\r\n        // 用户点击确认，关闭选择栏并绑定数值\r\n        onConfirm() {\r\n            // 更改信息\r\n            this.$data.selectedCity = this.$refs.picker.getValues()[0];\r\n            this.$data.cityId = this.$refs.picker.getIndexes()[0];\r\n            // 发送请求\r\n            this.loadCityData();\r\n            // 关闭弹出的选择栏\r\n            this.$refs.popup.close();\r\n            // 当current为4时自动跳转第一项\r\n            if (this.currentItem === 4) {\r\n                this.currentItem = 0;\r\n            }\r\n            // 如果搜索栏不为空,则变更城市id,再次发送请求\r\n            if (this.inputValue.trim().length !== 0) {\r\n                this.search({ detail: { value: this.inputValue } });\r\n            }\r\n        },\r\n        // 改变初始index为用户默认选中的城市\r\n        getDefaultIndex() {\r\n            const index = this.$data.citiesList.findIndex(\r\n                (e) => e === this.$data.selectedCity\r\n            );\r\n            if (index > 0) {\r\n                this.$data.defaultIndex = index;\r\n            }\r\n            // 初始化选中的城市ID\r\n            this.cityId = this.defaultIndex;\r\n        },\r\n        // swiper 被滑动\r\n        onSwiperChange(event) {\r\n            let index = event.detail.current;\r\n            this.currentItem = index;\r\n            this.$data.bodyColor = this.$data.bodyColors[index];\r\n        },\r\n        // 异步请求加载数据\r\n        loadData() {\r\n            this.loadCitiesData();\r\n            this.loadCityData();\r\n        },\r\n        // 加载 Cities 数据项\r\n        loadCitiesData() {\r\n            axios.get('/cityinfo/cities').then((res) => {\r\n                let data = res.data.data;\r\n                this.citiesList = data.map((item) => item.cityName);\r\n                this.getDefaultIndex();\r\n            });\r\n        },\r\n        // 加载目标城市的分类信息\r\n        loadCityData() {\r\n            axios\r\n                .post('/cityinfo/desc', {\r\n                    cityName: this.selectedCity\r\n                })\r\n                .then((res) => {\r\n                    // 判断该城市是否拥有大件垃圾\r\n                    if (res.data.data.length === 5) {\r\n                        this.hasBigTrash = true;\r\n                    } else {\r\n                        this.hasBigTrash = false;\r\n                    }\r\n                    // 根据 type 排序\r\n                    res.data.data.sort((a, b) => {\r\n                        return a.type - b.type;\r\n                    });\r\n                    let data = res.data.data;\r\n                    // 载入数据\r\n                    this.swiperTips = data.map((item) => item.description);\r\n                    this.swiperTitles = data.map((item) => item.typeName);\r\n                    this.requirements = data.map((item) => item.requirement);\r\n                    // 分割字符串\r\n                    this.requirements = this.requirements.map((item) =>\r\n                        item.split('\\n')\r\n                    );\r\n                });\r\n        },\r\n        // 搜索栏获得焦点\r\n        searchBarFocused() {\r\n            // 隐藏其他部件\r\n            this.searchMode = true;\r\n            this.bodyColor = null;\r\n            this.bodyImage = `linear-gradient(rgba(107, 151, 226, 0.7), rgba(142, 209, 252, 0.7));`;\r\n        },\r\n        // 搜索栏失去焦点\r\n        searchBarBlured(event) {\r\n            // 当搜索栏不为空的时候显示部件\r\n            if (event.target.value.length === 0) {\r\n                this.searchMode = false;\r\n                this.bodyColor = this.bodyColors[this.currentItem];\r\n                this.bodyImage = null;\r\n            }\r\n        },\r\n        // 搜索\r\n        search(event) {\r\n            let detail = event.detail;\r\n            // 如果内容为空，则清空搜索结果框\r\n            if (detail.value.trim().length == 0) {\r\n                this.searchResult = [];\r\n                this.showResult = false;\r\n            } else {\r\n                // 内容不为空，向后端发送请求\r\n                axios\r\n                    .post('/cityinfo/garbagesearch', {\r\n                        cityID: this.cityId,\r\n                        search: detail.value\r\n                    })\r\n                    .then((res) => {\r\n                        this.searchResult = res.data.data;\r\n                        if (res.data.data.length != 0) {\r\n                            this.showResult = true;\r\n                        } else {\r\n                            this.showResult = false;\r\n                        }\r\n                    });\r\n            }\r\n        },\r\n        // 跳转至 Detail 页面\r\n        gotoDetail() {\r\n            uni.navigateTo({\r\n                url: `../sortInfo_details/sortInfo_details?index=${this.currentItem}`\r\n            });\r\n        },\r\n        // 初始化vuex\r\n        initStates() {\r\n            this.$store.commit('setCityId', this.cityId);\r\n            this.$store.commit('setClasses', this.swiperTitles);\r\n            this.$store.commit('setCityName', this.selectedCity);\r\n        },\r\n    },\r\n    // 实时更新Vuex状态\r\n    watch: {\r\n        cityId(newId, oldId) {\r\n            this.$store.commit('setCityId', newId);\r\n        },\r\n        swiperTitles(newTitles, oldTitles) {\r\n            this.$store.commit('setClasses', newTitles);\r\n        },\r\n        selectedCity(newCity, oldCity) {\r\n            this.$store.commit('setCityName', newCity);\r\n        }\r\n    },\r\n    mounted() {\r\n        this.loadData();\r\n        this.initStates();\r\n    },\r\n\tonLoad() {\r\n\t\tuni.$once('cityLoaded',(city)=>{\r\n\t\t\tthis.selectedCity = city;\r\n\t\t\tthis.getDefaultIndex();\r\n\t\t\tthis.loadCityData();\r\n\t\t})\r\n\t}\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import '../../common/style/sortInfo_home.less';\r\n.header-bg-image {\r\n\t\tposition:absolute;\r\n\t\twidth:100vw;\r\n\t\theight:33vh;\r\n\t}\r\n</style>\r\n","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--10-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--10-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\less-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./sortInfo_home.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--10-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--10-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\less-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./sortInfo_home.vue?vue&type=style&index=0&lang=less&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1650206097206\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}